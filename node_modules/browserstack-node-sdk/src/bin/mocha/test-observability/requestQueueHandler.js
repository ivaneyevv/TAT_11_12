const a18_0x410f58=a18_0x1127;(function(_0xdb182a,_0x5dbee8){const _0x33a398=a18_0x1127,_0x315dd0=_0xdb182a();while(!![]){try{const _0x4c7292=-parseInt(_0x33a398(0x1f9))/0x1+parseInt(_0x33a398(0x1e8))/0x2*(-parseInt(_0x33a398(0x1e0))/0x3)+parseInt(_0x33a398(0x228))/0x4*(parseInt(_0x33a398(0x23a))/0x5)+parseInt(_0x33a398(0x208))/0x6*(parseInt(_0x33a398(0x1dd))/0x7)+-parseInt(_0x33a398(0x1ff))/0x8*(-parseInt(_0x33a398(0x1dc))/0x9)+parseInt(_0x33a398(0x224))/0xa*(-parseInt(_0x33a398(0x1ed))/0xb)+-parseInt(_0x33a398(0x22f))/0xc*(-parseInt(_0x33a398(0x209))/0xd);if(_0x4c7292===_0x5dbee8)break;else _0x315dd0['push'](_0x315dd0['shift']());}catch(_0x433ff8){_0x315dd0['push'](_0x315dd0['shift']());}}}(a18_0x3679,0xb2236));function a18_0x1127(_0x57413e,_0x4520cf){const _0x3679f7=a18_0x3679();return a18_0x1127=function(_0x112732,_0x6e63f2){_0x112732=_0x112732-0x1d8;let _0x2e32ee=_0x3679f7[_0x112732];return _0x2e32ee;},a18_0x1127(_0x57413e,_0x4520cf);}const {BATCH_SIZE,BATCH_INTERVAL,consoleHolder}=require('./constants'),{debug,batchAndPostEvents}=require(a18_0x410f58(0x232));function a18_0x3679(){const _0xb3f532=['spGCt','cvRbn','WAkML','XDYRN','TestRunStarted','eFrqG','QkMNX','kpKEZ','LTYJO','LogCreated','0|4|3|1|2|5','xGuvE','gEYxp','30EBSCEe','eventUrl','splice','pollEventBatchInterval','1342436AzEwiz','HNhaB','push','start','startEventBatchPolling','TTqbe','DArUj','12XOhLSD','CAnYM','vFMHK','./helper','ikKky','ArxSZ','TEST_SCREENSHOT','IVayQ','CBTSessionCreated','BATCH_EVENT_TYPES','RESETTING','20SjeksO','EkbFT','started','wfxNm','suxPe','length','api/v1/batch','JaunK','aHNxa','event_type','HRYaz','caeMp','468MxAiYS','588462MFRBCh','IzsSX','cbekF','1267122vHVyoo','3|4|5|0|1|2','TNBBM','vdESB','CHdsu','screenshotEventUrl','Zjxal','proceedWithUrl','4xVXyUn','MdXcy','add','KvAmT','YfCeM','3958306AAHTAN','xyyXd','HookRunFinished','sUOoY','dMAnt','TestRunSkipped','prtCj','REMOVING','ahYpe','fnCEH','HookRunStarted','pWXsk','1311475mtiwSR','YzbFH','WGQNW','yOCXI','proceedWithData','TestRunFinished','68232GJgqaF','split','rPTmM','KGUBF','AUpAQ','queue','logs','XdLyj','api/v1/screenshots','72hndpKN','15218827dghwVf','qDdhM','sLmKZ','shouldProceed','SDWjA','CgAAv','gXMYb','removeEventBatchPolling','slice','gtZzu','resetEventBatchPolling','JpTvS','pDUfk','AmFzK'];a18_0x3679=function(){return _0xb3f532;};return a18_0x3679();}class RequestQueueHandler{constructor(){const _0x16d3cf=a18_0x410f58,_0x44a21b={};_0x44a21b['aHEhm']=_0x16d3cf(0x1e1),_0x44a21b[_0x16d3cf(0x1df)]=_0x16d3cf(0x207),_0x44a21b[_0x16d3cf(0x233)]='LogCreated',_0x44a21b[_0x16d3cf(0x223)]=_0x16d3cf(0x237),_0x44a21b[_0x16d3cf(0x21d)]='TestRunFinished',_0x44a21b['RGkRk']=_0x16d3cf(0x1f2),_0x44a21b[_0x16d3cf(0x21a)]=_0x16d3cf(0x1ef),_0x44a21b[_0x16d3cf(0x20d)]=_0x16d3cf(0x21b),_0x44a21b['pDUfk']=_0x16d3cf(0x1f7),_0x44a21b['HNhaB']='api/v1/batch';const _0x346a8a=_0x44a21b,_0x4ed9ba=_0x346a8a['aHEhm'][_0x16d3cf(0x200)]('|');let _0x2994ee=0x0;while(!![]){switch(_0x4ed9ba[_0x2994ee++]){case'0':this['screenshotEventUrl']=_0x346a8a[_0x16d3cf(0x1df)];continue;case'1':this[_0x16d3cf(0x238)]=[_0x346a8a[_0x16d3cf(0x233)],_0x346a8a['gEYxp'],_0x346a8a['QkMNX'],_0x346a8a['RGkRk'],_0x346a8a[_0x16d3cf(0x21a)],_0x346a8a[_0x16d3cf(0x20d)],_0x346a8a[_0x16d3cf(0x215)]];continue;case'2':this['pollEventBatchInterval']=null;continue;case'3':this[_0x16d3cf(0x204)]=[];continue;case'4':this['started']=![];continue;case'5':this[_0x16d3cf(0x225)]=_0x346a8a[_0x16d3cf(0x229)];continue;}break;}}[a18_0x410f58(0x22b)]=()=>{const _0x39919e=a18_0x410f58,_0x4dd67b={};_0x4dd67b[_0x39919e(0x20a)]=function(_0x433e8e,_0x41410e){return _0x433e8e===_0x41410e;},_0x4dd67b['eFrqG']=_0x39919e(0x235),_0x4dd67b['DArUj']=_0x39919e(0x1ec);const _0x2d75f3=_0x4dd67b;if(!this[_0x39919e(0x23c)]){if(_0x2d75f3[_0x39919e(0x20a)](_0x2d75f3['DArUj'],_0x2d75f3[_0x39919e(0x22e)]))this[_0x39919e(0x23c)]=!![],this['startEventBatchPolling']();else{if(_0x25d98c[_0x39919e(0x205)]&&_0x5c195b[_0x39919e(0x205)][0x0]&&_0x2d75f3[_0x39919e(0x20a)](_0x5a64a4[_0x39919e(0x205)][0x0]['kind'],_0x2d75f3[_0x39919e(0x21c)])){const _0x7c91b8={};return _0x7c91b8['shouldProceed']=!![],_0x7c91b8['proceedWithData']=[_0x52e69b],_0x7c91b8[_0x39919e(0x1e7)]=this[_0x39919e(0x1e5)],_0x7c91b8;}this['queue'][_0x39919e(0x22a)](_0x4fbff9);let _0xf81c3e=null,_0x416d00=this[_0x39919e(0x20c)]();_0x416d00&&(_0xf81c3e=this['queue'][_0x39919e(0x211)](0x0,_0x4e15aa),this[_0x39919e(0x204)][_0x39919e(0x226)](0x0,_0x5d9349),this[_0x39919e(0x213)]());const _0xf99af4={};return _0xf99af4[_0x39919e(0x20c)]=_0x416d00,_0xf99af4['proceedWithData']=_0xf81c3e,_0xf99af4[_0x39919e(0x1e7)]=this[_0x39919e(0x225)],_0xf99af4;}}};[a18_0x410f58(0x1ea)]=_0x96d8e=>{const _0x8cf320=a18_0x410f58,_0x2f10d9={};_0x2f10d9[_0x8cf320(0x1f5)]=function(_0x5a1bcc,_0x382635){return _0x5a1bcc>=_0x382635;},_0x2f10d9[_0x8cf320(0x1f6)]=_0x8cf320(0x221),_0x2f10d9[_0x8cf320(0x219)]=_0x8cf320(0x207),_0x2f10d9[_0x8cf320(0x1d8)]=_0x8cf320(0x220),_0x2f10d9[_0x8cf320(0x23e)]=_0x8cf320(0x237),_0x2f10d9[_0x8cf320(0x1da)]=_0x8cf320(0x1fe),_0x2f10d9[_0x8cf320(0x1ee)]=_0x8cf320(0x1f2),_0x2f10d9[_0x8cf320(0x218)]='HookRunFinished',_0x2f10d9['dmTyF']='TestRunStarted',_0x2f10d9[_0x8cf320(0x1e2)]=_0x8cf320(0x1f7),_0x2f10d9[_0x8cf320(0x23d)]=_0x8cf320(0x240),_0x2f10d9[_0x8cf320(0x1eb)]=function(_0x4ba469,_0x564612){return _0x4ba469===_0x564612;},_0x2f10d9['KGUBF']=_0x8cf320(0x231),_0x2f10d9['gtZzu']=_0x8cf320(0x1e6),_0x2f10d9['yOCXI']=function(_0x1717cd,_0x24682b){return _0x1717cd===_0x24682b;},_0x2f10d9['CHdsu']=_0x8cf320(0x235),_0x2f10d9[_0x8cf320(0x1e3)]=_0x8cf320(0x20b),_0x2f10d9[_0x8cf320(0x1db)]=_0x8cf320(0x216),_0x2f10d9[_0x8cf320(0x203)]=_0x8cf320(0x234),_0x2f10d9[_0x8cf320(0x230)]='uhCvq';const _0x271815=_0x2f10d9;if(this['BATCH_EVENT_TYPES']['includes'](_0x96d8e[_0x8cf320(0x1d9)])){if(_0x271815[_0x8cf320(0x1eb)](_0x271815[_0x8cf320(0x202)],_0x271815[_0x8cf320(0x212)]))return _0x271815[_0x8cf320(0x1f5)](this['queue'][_0x8cf320(0x23f)],_0x15ed9d);else{if(_0x96d8e[_0x8cf320(0x205)]&&_0x96d8e[_0x8cf320(0x205)][0x0]&&_0x271815[_0x8cf320(0x1fc)](_0x96d8e[_0x8cf320(0x205)][0x0]['kind'],_0x271815[_0x8cf320(0x1e4)])){if(_0x271815['yOCXI'](_0x271815[_0x8cf320(0x1e3)],_0x271815[_0x8cf320(0x1db)]))_0x32bb27=this[_0x8cf320(0x204)]['slice'](0x0,_0x1aa79d),this['queue'][_0x8cf320(0x226)](0x0,_0xac3104),this[_0x8cf320(0x213)]();else{const _0xae317={};return _0xae317['shouldProceed']=!![],_0xae317[_0x8cf320(0x1fd)]=[_0x96d8e],_0xae317[_0x8cf320(0x1e7)]=this[_0x8cf320(0x1e5)],_0xae317;}}this[_0x8cf320(0x204)][_0x8cf320(0x22a)](_0x96d8e);let _0x4f6d48=null,_0x344f77=this[_0x8cf320(0x20c)]();_0x344f77&&(_0x271815[_0x8cf320(0x1fc)](_0x271815['AUpAQ'],_0x271815[_0x8cf320(0x203)])?(_0x4f6d48=this[_0x8cf320(0x204)][_0x8cf320(0x211)](0x0,BATCH_SIZE),this[_0x8cf320(0x204)][_0x8cf320(0x226)](0x0,BATCH_SIZE),this[_0x8cf320(0x213)]()):!this[_0x8cf320(0x23c)]&&(this[_0x8cf320(0x23c)]=!![],this[_0x8cf320(0x22c)]()));const _0x2981a9={};return _0x2981a9[_0x8cf320(0x20c)]=_0x344f77,_0x2981a9[_0x8cf320(0x1fd)]=_0x4f6d48,_0x2981a9[_0x8cf320(0x1e7)]=this['eventUrl'],_0x2981a9;}}else{if(_0x271815[_0x8cf320(0x1fc)](_0x271815[_0x8cf320(0x230)],_0x271815[_0x8cf320(0x230)])){const _0x3395a2={};return _0x3395a2[_0x8cf320(0x20c)]=!![],_0x3395a2;}else{const _0x3274fd=_0x271815[_0x8cf320(0x1f6)][_0x8cf320(0x200)]('|');let _0x4aac54=0x0;while(!![]){switch(_0x3274fd[_0x4aac54++]){case'0':this[_0x8cf320(0x204)]=[];continue;case'1':this[_0x8cf320(0x1e5)]=_0x271815[_0x8cf320(0x219)];continue;case'2':this[_0x8cf320(0x238)]=[_0x271815[_0x8cf320(0x1d8)],_0x271815[_0x8cf320(0x23e)],_0x271815[_0x8cf320(0x1da)],_0x271815['xyyXd'],_0x271815[_0x8cf320(0x218)],_0x271815['dmTyF'],_0x271815[_0x8cf320(0x1e2)]];continue;case'3':this[_0x8cf320(0x225)]=_0x271815[_0x8cf320(0x23d)];continue;case'4':this['started']=![];continue;case'5':this['pollEventBatchInterval']=null;continue;}break;}}}};['shutdown']=async()=>{const _0x51e3a4=a18_0x410f58,_0x8ca4aa={'zYviq':function(_0x2067d2,_0x1e8ea4){return _0x2067d2(_0x1e8ea4);},'CgAAv':function(_0x1abd2b,_0x2657c2){return _0x1abd2b===_0x2657c2;},'TTqbe':_0x51e3a4(0x1f4),'JaunK':function(_0x534b02,_0xadb959){return _0x534b02>_0xadb959;},'xGuvE':function(_0xedd227,_0x34ad78){return _0xedd227!==_0x34ad78;},'LTYJO':'cjQzH','fFNwb':function(_0x141397,_0x6415c5,_0x572436,_0x1daa32){return _0x141397(_0x6415c5,_0x572436,_0x1daa32);},'XdLyj':'Shutdown-Queue'};this['removeEventBatchPolling'](_0x8ca4aa['TTqbe']);while(_0x8ca4aa[_0x51e3a4(0x241)](this['queue'][_0x51e3a4(0x23f)],0x0)){if(_0x8ca4aa[_0x51e3a4(0x222)](_0x8ca4aa[_0x51e3a4(0x21f)],_0x8ca4aa['LTYJO'])){_0x8ca4aa['zYviq'](_0x1d6352,this['pollEventBatchInterval']),this[_0x51e3a4(0x227)]=null;if(_0x8ca4aa[_0x51e3a4(0x20e)](_0x740527,_0x8ca4aa[_0x51e3a4(0x22d)]))this[_0x51e3a4(0x23c)]=![];}else{const _0x191f9a=this[_0x51e3a4(0x204)][_0x51e3a4(0x211)](0x0,BATCH_SIZE);this[_0x51e3a4(0x204)][_0x51e3a4(0x226)](0x0,BATCH_SIZE),await _0x8ca4aa['fFNwb'](batchAndPostEvents,this['eventUrl'],_0x8ca4aa[_0x51e3a4(0x206)],_0x191f9a);}}};[a18_0x410f58(0x22c)]=()=>{const _0x15fb52=a18_0x410f58,_0x127210={'vwzAi':_0x15fb52(0x239),'rPTmM':function(_0x352134,_0x5ab391){return _0x352134!==_0x5ab391;},'gXMYb':_0x15fb52(0x214),'sgzXU':_0x15fb52(0x1f8),'WGQNW':function(_0x497bd0,_0x1410fd){return _0x497bd0>_0x1410fd;},'prtCj':function(_0x47724a,_0x2a20ee){return _0x47724a===_0x2a20ee;},'IzsSX':_0x15fb52(0x217),'KRxsx':function(_0x1b8c8d,_0x46d4ff,_0x55e35e,_0x40fe71){return _0x1b8c8d(_0x46d4ff,_0x55e35e,_0x40fe71);},'mrVSG':'Interval-Queue','kpKEZ':function(_0xbbd9cc,_0xf52615,_0xbd1871){return _0xbbd9cc(_0xf52615,_0xbd1871);}};this[_0x15fb52(0x227)]=_0x127210[_0x15fb52(0x21e)](setInterval,async()=>{const _0x1f0b43=_0x15fb52;if(_0x127210[_0x1f0b43(0x201)](_0x127210[_0x1f0b43(0x20f)],_0x127210['sgzXU'])){if(_0x127210[_0x1f0b43(0x1fb)](this['queue'][_0x1f0b43(0x23f)],0x0)){if(_0x127210[_0x1f0b43(0x1f3)](_0x127210[_0x1f0b43(0x1de)],_0x127210['IzsSX'])){const _0x58f36a=this['queue']['slice'](0x0,BATCH_SIZE);this[_0x1f0b43(0x204)][_0x1f0b43(0x226)](0x0,BATCH_SIZE),await _0x127210['KRxsx'](batchAndPostEvents,this[_0x1f0b43(0x225)],_0x127210['mrVSG'],_0x58f36a);}else this[_0x1f0b43(0x210)](_0x127210['vwzAi']),this[_0x1f0b43(0x22c)]();}}else{const _0x43b1ca={};return _0x43b1ca[_0x1f0b43(0x20c)]=!![],_0x43b1ca[_0x1f0b43(0x1fd)]=[_0x3d968c],_0x43b1ca['proceedWithUrl']=this[_0x1f0b43(0x1e5)],_0x43b1ca;}},BATCH_INTERVAL);};[a18_0x410f58(0x213)]=()=>{const _0x35fe4c=a18_0x410f58,_0xf12873={};_0xf12873[_0x35fe4c(0x1e9)]='RESETTING';const _0x19cf14=_0xf12873;this['removeEventBatchPolling'](_0x19cf14[_0x35fe4c(0x1e9)]),this[_0x35fe4c(0x22c)]();};[a18_0x410f58(0x210)]=_0x181175=>{const _0x55526a=a18_0x410f58,_0x3908d9={'dMAnt':function(_0x4b1c42,_0x552851){return _0x4b1c42!==_0x552851;},'YzbFH':'CkNKZ','EkbFT':function(_0x3a7025,_0xf62069){return _0x3a7025(_0xf62069);},'IVayQ':function(_0x28c83c,_0x59e9a3){return _0x28c83c===_0x59e9a3;},'fxerA':_0x55526a(0x1f4)};if(this[_0x55526a(0x227)]){if(_0x3908d9[_0x55526a(0x1f1)](_0x3908d9[_0x55526a(0x1fa)],_0x3908d9[_0x55526a(0x1fa)])){const _0x1b09de={};return _0x1b09de[_0x55526a(0x20c)]=!![],_0x1b09de;}else{_0x3908d9[_0x55526a(0x23b)](clearInterval,this[_0x55526a(0x227)]),this[_0x55526a(0x227)]=null;if(_0x3908d9[_0x55526a(0x236)](_0x181175,_0x3908d9['fxerA']))this[_0x55526a(0x23c)]=![];}}};['shouldProceed']=()=>{const _0x5dfd0e=a18_0x410f58,_0x24d902={};_0x24d902[_0x5dfd0e(0x1f0)]=function(_0xb49f1a,_0x8038ef){return _0xb49f1a>=_0x8038ef;};const _0x57fbbd=_0x24d902;return _0x57fbbd[_0x5dfd0e(0x1f0)](this['queue'][_0x5dfd0e(0x23f)],BATCH_SIZE);};}module['exports']=RequestQueueHandler;