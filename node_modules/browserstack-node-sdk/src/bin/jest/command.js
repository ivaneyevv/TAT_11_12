#!/usr/bin/env node
'use strict';const a6_0x2bb283=a6_0x2ec3;(function(_0x848597,_0x6eef57){const _0x533267=a6_0x2ec3,_0x1c2569=_0x848597();while(!![]){try{const _0x2ea43d=-parseInt(_0x533267(0xa9))/0x1+-parseInt(_0x533267(0xfd))/0x2+parseInt(_0x533267(0x8d))/0x3*(-parseInt(_0x533267(0x9c))/0x4)+-parseInt(_0x533267(0x97))/0x5*(-parseInt(_0x533267(0xa4))/0x6)+-parseInt(_0x533267(0xf9))/0x7*(-parseInt(_0x533267(0xfc))/0x8)+parseInt(_0x533267(0xdf))/0x9+parseInt(_0x533267(0xe2))/0xa*(-parseInt(_0x533267(0x93))/0xb);if(_0x2ea43d===_0x6eef57)break;else _0x1c2569['push'](_0x1c2569['shift']());}catch(_0xd02f57){_0x1c2569['push'](_0x1c2569['shift']());}}}(a6_0x10c0,0xded5b));function a6_0x2ec3(_0xe55e92,_0x47d0d9){const _0x10c025=a6_0x10c0();return a6_0x2ec3=function(_0x2ec332,_0x621682){_0x2ec332=_0x2ec332-0x8a;let _0x3645af=_0x10c025[_0x2ec332];return _0x3645af;},a6_0x2ec3(_0xe55e92,_0x47d0d9);}const fs=require('fs'),path=require('path'),{spawn}=require('child_process'),logger=require(a6_0x2bb283(0xd2))[a6_0x2bb283(0x106)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require('../../helpers/helper'),constants=require(a6_0x2bb283(0x103)),getUserJestConfigs=(_0x535288,_0x524729)=>{const _0x388880=a6_0x2bb283,_0x1b44cf={'VWqHF':_0x388880(0xbb),'PZvCN':function(_0x5cd256,_0x5d7b45){return _0x5cd256===_0x5d7b45;},'IUgsj':_0x388880(0xfb),'nAyAs':function(_0x1f576a,_0x5ed1d5){return _0x1f576a(_0x5ed1d5);},'QTlKH':function(_0x1cd659,_0x111a0d){return _0x1cd659||_0x111a0d;},'NVjWa':function(_0x2e7888,_0x153afe){return _0x2e7888(_0x153afe);},'HhfEY':_0x388880(0x95)},_0x4d12ff=_0x524729[_0x388880(0xb7)](_0x41bc92=>_0x41bc92=='--config');if(!helper[_0x388880(0xad)](_0x535288[_0x388880(0xa6)])){if(_0x1b44cf[_0x388880(0x109)](_0x1b44cf[_0x388880(0x91)],_0x1b44cf[_0x388880(0x91)])){logger[_0x388880(0xe6)](_0x388880(0x104)+_0x535288['config']);const _0x599c00=_0x1b44cf[_0x388880(0xed)](require,path[_0x388880(0xc1)](process['cwd'](),_0x535288[_0x388880(0xa6)]));return _0x524729['splice'](_0x4d12ff,0x2),_0x1b44cf['QTlKH'](_0x599c00,{});}else{if(_0x3a9d0f)_0x3fcd38[_0x388880(0xe3)](_0x1f138b[_0x388880(0x94)](_0xbc06bc[_0x388880(0xa6)],_0x1b44cf[_0x388880(0xdc)],_0x42025e));else _0x3c839c[_0x388880(0xe3)](_0xa5bf50[_0x388880(0xeb)](_0xe9fd1e[_0x388880(0xa6)],_0x1b44cf[_0x388880(0xdc)],_0x51c95c));}}return logger[_0x388880(0xe6)](_0x388880(0xa5)),_0x1b44cf[_0x388880(0xfe)](require,path['join'](process[_0x388880(0x99)](),_0x1b44cf['HhfEY']))[_0x388880(0xbb)]||{};},getSerial=(_0xec285a,_0x13433f)=>{const _0x3d99ee=a6_0x2bb283,_0x43b155={'zbaNT':function(_0x540651,_0x595062){return _0x540651(_0x595062);},'ZCkJp':function(_0x1dc45b,_0x5023c6){return _0x1dc45b||_0x5023c6;},'SOPlK':_0x3d99ee(0x95),'ZsRtR':_0x3d99ee(0xe9),'huWuK':function(_0x3f89ac,_0x1d911a){return _0x3f89ac>_0x1d911a;},'XUpak':function(_0x3f2c87,_0x3f856f){return _0x3f2c87!==_0x3f856f;},'QHskR':_0x3d99ee(0xac),'rAMlV':_0x3d99ee(0xbc),'TpvWq':'false'};let _0xb69378=_0x43b155[_0x3d99ee(0xe1)];if(_0x43b155[_0x3d99ee(0xa3)](_0xec285a[_0x3d99ee(0xf2)],0x1)&&(!_0x13433f[_0x3d99ee(0xde)]&&(helper['isUndefined'](_0x13433f[_0x3d99ee(0xa0)])||_0x43b155[_0x3d99ee(0xa3)](_0x13433f[_0x3d99ee(0xa0)],0x1)))){if(_0x43b155[_0x3d99ee(0xf4)](_0x43b155[_0x3d99ee(0xd5)],_0x43b155[_0x3d99ee(0xa2)]))_0xb69378=_0x43b155['TpvWq'];else{const _0xbe82b7=_0x3d84fd['findIndex'](_0x1e9f2c=>_0x1e9f2c==_0x3d99ee(0xb2));if(!_0x467e36[_0x3d99ee(0xad)](_0x5dce4b[_0x3d99ee(0xa6)])){_0x5c8879[_0x3d99ee(0xe6)](_0x3d99ee(0x104)+_0x22b56f['config']);const _0x5c4a79=_0x43b155[_0x3d99ee(0x96)](_0x1e991a,_0x5c5e72[_0x3d99ee(0xc1)](_0x5a96b3[_0x3d99ee(0x99)](),_0x4fa083['config']));return _0x20c4f6['splice'](_0xbe82b7,0x2),_0x43b155[_0x3d99ee(0x9d)](_0x5c4a79,{});}return _0x1b7455[_0x3d99ee(0xe6)]('Getting\x20your\x20jest\x20configs\x20from\x20package.json'),_0x43b155[_0x3d99ee(0x96)](_0x3c9d48,_0xff1ad5[_0x3d99ee(0xc1)](_0x5ecabd[_0x3d99ee(0x99)](),_0x43b155['SOPlK']))[_0x3d99ee(0xbb)]||{};}}return _0xb69378;},getMaxWorkers=(_0x1deb37,_0x15f64a)=>{const _0x104874=a6_0x2bb283,_0x4750d3={'CqIon':function(_0xe73816,_0x4b8758){return _0xe73816(_0x4b8758);},'idZiG':_0x104874(0xbb),'PXnkq':function(_0x125cb2,_0x5aef1b,_0x3715ea){return _0x125cb2(_0x5aef1b,_0x3715ea);},'McXHI':_0x104874(0x10c),'UhZHy':function(_0x4a3df7,_0x1bcfc5,_0x24f905){return _0x4a3df7(_0x1bcfc5,_0x24f905);},'tDZvb':function(_0x5c3556,_0x1ff6ac,_0x2b0a57){return _0x5c3556(_0x1ff6ac,_0x2b0a57);},'oriTb':function(_0x59bf12,_0xc8b09b){return _0x59bf12*_0xc8b09b;},'NdfkD':_0x104874(0xa7),'iRGhL':_0x104874(0xcc),'PUpYt':'Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','BHCTd':function(_0x5bc00c,_0x30d87a,_0xa4c5f2,_0x5e52a2){return _0x5bc00c(_0x30d87a,_0xa4c5f2,_0x5e52a2);},'aYNFb':_0x104874(0x100),'ggqOK':_0x104874(0xb2),'genoW':'inherit','UymFP':_0x104874(0x98),'xwKvx':function(_0x1f1117,_0x3cb745){return _0x1f1117!==_0x3cb745;},'vWzuF':_0x104874(0xe5),'ZWdFk':function(_0xbaefe7,_0x520abe){return _0xbaefe7(_0x520abe);},'HzyVh':function(_0x437f20,_0x276867){return _0x437f20===_0x276867;},'NdnEo':'aahjb','IjNyR':'UBjwC'};let _0x1831b9=0x1;if(!helper['isUndefined'](_0x15f64a[_0x104874(0xdb)])){if(_0x4750d3[_0x104874(0xaf)](_0x4750d3[_0x104874(0xd8)],_0x4750d3[_0x104874(0xd8)])){let _0x5629c1=0x1;if(!_0x4fbfb6['isUndefined'](_0x5c2c9a[_0x104874(0xdb)]))_0x5629c1=_0x4750d3['CqIon'](_0xfb226d,_0x562105['parallelsPerPlatform']);else!_0x57c994[_0x104874(0xad)](_0x99e004[_0x104874(0xa0)])&&(_0x5629c1=_0x1d40b3[_0x104874(0xa0)]);return _0x5629c1;}else _0x1831b9=_0x4750d3[_0x104874(0xcf)](parseInt,_0x15f64a[_0x104874(0xdb)]);}else{if(!helper[_0x104874(0xad)](_0x1deb37[_0x104874(0xa0)])){if(_0x4750d3[_0x104874(0x9f)](_0x4750d3[_0x104874(0xaa)],_0x4750d3[_0x104874(0xf3)])){const _0xb70e0f={};_0xb70e0f['HaaeQ']=_0x4750d3[_0x104874(0xda)];const _0x1b599d=_0xb70e0f,_0x299e44=new _0x4fb3c5();if(!_0x299e44[_0x104874(0xa6)])return;const _0x29809c=_0x4750d3['PXnkq'](_0x2bbe9c,_0x62e2,_0x4d58db);_0x290db9[_0x104874(0xe6)](_0x4750d3[_0x104874(0xbd)]);const _0x54174a={..._0x29809c},_0x2d15f3=_0x54174a,_0x2528a8={};_0x2528a8[_0x104874(0x8c)]=_0x244486[_0x104874(0xef)],_0x2528a8['environment']=_0x29809c[_0x104874(0xb0)],_0x2d15f3[_0x104874(0x9a)]=_0x2528a8;let _0x5293c5=_0x307b56[_0x104874(0x107)](_0x299e44[_0x104874(0xa6)]);const _0x938ffd=[];_0x299e44[_0x104874(0xa6)]['platforms'][_0x104874(0xfa)]((_0x27b808,_0x41fd9b)=>{const _0x451d8c=_0x104874;if(_0x5293c5)_0x938ffd['push'](_0x4204a5[_0x451d8c(0x94)](_0x299e44[_0x451d8c(0xa6)],_0x1b599d[_0x451d8c(0x8a)],_0x41fd9b));else _0x938ffd['push'](_0x50444c[_0x451d8c(0xeb)](_0x299e44[_0x451d8c(0xa6)],_0x1b599d[_0x451d8c(0x8a)],_0x41fd9b));}),_0x2d15f3[_0x104874(0x9a)]['capabilities']=_0x938ffd,_0x2d15f3[_0x104874(0x9a)][_0x104874(0xf7)]=_0x4750d3[_0x104874(0xd0)](_0x4dd070,_0x938ffd,_0x48e232),_0x2d15f3[_0x104874(0x9a)]['parallels__']=_0x4750d3[_0x104874(0xff)](_0xd2b58,_0x118d13,_0x299e44['config']),_0x2d15f3[_0x104874(0x9a)][_0x104874(0xc6)]=_0x299e44['config'][_0x104874(0xc6)],_0x2d15f3[_0x104874(0x9a)][_0x104874(0xae)]=_0x4750d3[_0x104874(0xab)](_0x532b23['testTimeout'],0x1)||0x1388;const _0x2846f3=_0x4750d3[_0x104874(0xb4)],_0x42b870=_0x4db7a1+_0x104874(0xc3),_0x47dbf9=_0x466e16+_0x104874(0xe8);_0x2d15f3[_0x104874(0xb0)]=_0x2a8fa4+_0x104874(0xa1),_0x2d15f3[_0x104874(0xb9)]=_0x42b870,_0x2d15f3['setupFilesAfterEnv']=[_0x2d0bcd+_0x104874(0xe0)],_0x2d15f3['setupFiles']=[_0x5200fd+'/test_before.setup.js'],_0x2d15f3[_0x104874(0xb6)]=_0x2d15f3[_0x104874(0xb6)]||[_0x4750d3[_0x104874(0x102)]];let _0x58a849=_0x40b871[_0x104874(0x101)](_0x47dbf9);_0x2857d8[_0x104874(0xcd)](_0x2d15f3[_0x104874(0xb9)],'\x0a\x20\x20\x20\x20'+_0x58a849+_0x104874(0xc7)+_0x299e44[_0x104874(0xa6)][_0x104874(0xa8)][_0x104874(0xf2)]+_0x104874(0x90)),_0x5cdd7f[_0x104874(0xe6)](_0x104874(0x9e)+_0x2846f3+_0x104874(0xf0)),_0x6eb283[_0x104874(0xcd)](_0x2846f3,_0x104874(0x8e)+_0x3135f1['stringify'](_0x2d15f3)+'\x0amodule.exports\x20=\x20config;'),_0x586ac7['info'](_0x4750d3['PUpYt']);const _0x3cddf=_0x4750d3['BHCTd'](_0x190b0e,/^win/[_0x104874(0xdd)](_0x1d66e4[_0x104874(0xd6)])?_0x4750d3[_0x104874(0x9b)]:_0x4750d3['idZiG'],[_0x4750d3[_0x104874(0xd3)],_0x2846f3,..._0x3e9708[_0x104874(0xe7)](0x1)],{'stdio':_0x4750d3[_0x104874(0x105)]});_0x3cddf['on'](_0x4750d3[_0x104874(0xb3)],async _0x4a6872=>{const _0x20db3a=_0x104874;_0x8231c8[_0x20db3a(0xd7)](_0x20db3a(0xc5)+_0x4a6872),_0x57f817[_0x20db3a(0xe6)](_0x20db3a(0xca)+_0x2846f3),_0x1f5e1f[_0x20db3a(0xf6)](_0x2846f3),_0x52e524[_0x20db3a(0xf6)](_0x42b870);});}else _0x1831b9=_0x1deb37[_0x104874(0xa0)];}}return _0x1831b9;};function a6_0x10c0(){const _0x1085b7=['PZvCN','KcVPT','FOFkA','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','HaaeQ','stringify','server','283653LYelDf','const\x20config=','jsXyn',';\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x20\x20','IUgsj','HmGpc','11jeUubo','modifyBrowserStackW3CCaps','package.json','zbaNT','11265SoVaRV','close','cwd','testEnvironmentOptions','aYNFb','20QVDvHk','ZCkJp','Creating\x20','HzyVh','maxWorkers','/customEnvironment.js','rAMlV','huWuK','4668aaiOEM','Getting\x20your\x20jest\x20configs\x20from\x20package.json','config','jest_browserstack.config.js','platforms','194100ozsgQM','NdnEo','oriTb','LJDJH','isUndefined','timeout__','xwKvx','testEnvironment','OmvHF','--config','UymFP','NdfkD','aozWg','reporters','findIndex','pHOmH','runner','mvipd','jest','MZWHR','McXHI','parallels__','kPnIe','/test_before.setup.js','join','YhHMY','/customTestRunner.js','scTgF','child\x20process\x20exited\x20with\x20code\x20','proxySettings','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','pAwWk','setupFilesAfterEnv','Deleting\x20','MXlJZ','default','writeFileSync','inherit','ZWdFk','UhZHy','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','../../helpers/logger','ggqOK','exports','QHskR','platform','debug','vWzuF','BChNE','idZiG','parallelsPerPlatform','VWqHF','test','runInBand','10269450eOgwNe','/jest.setup.js','ZsRtR','6084840yMFnkZ','push','KYXtJ','zsURk','info','slice','/customTestRunnerTemplate.js','true','capabilities','modifyBrowserStackCaps','racqX','nAyAs','tjacX','hubUrl','\x20with\x20browserstack\x20jest\x20configs','setupFiles','length','IjNyR','XUpak','dHAyU','unlinkSync','serial__','AAELE','1337FhFXsw','forEach','pfRly','13648Klbjef','2063320XrTcQI','NVjWa','tDZvb','jest.cmd','readFileSync','iRGhL','../utils/constants','Getting\x20your\x20jest\x20configs\x20from\x20','genoW','winstonLogger','useW3C','ShmGs'];a6_0x10c0=function(){return _0x1085b7;};return a6_0x10c0();}function run(_0x59b094,_0xfdfca0){const _0x17ae94=a6_0x2bb283,_0x99881e={'qZfzg':'false','jsXyn':function(_0x2646d1,_0x1928d6){return _0x2646d1===_0x1928d6;},'mvipd':_0x17ae94(0xf5),'HmGpc':'jest','KcVPT':function(_0x305fb9,_0x248040){return _0x305fb9(_0x248040);},'AAELE':function(_0x52724b,_0x53158c){return _0x52724b===_0x53158c;},'ShmGs':_0x17ae94(0xd9),'KYXtJ':_0x17ae94(0xb1),'YhHMY':function(_0x19bc0f,_0x5084f2,_0x1094ad){return _0x19bc0f(_0x5084f2,_0x1094ad);},'pHOmH':_0x17ae94(0x10c),'tjacX':function(_0x3cb3c0,_0x584fd2,_0x48f611){return _0x3cb3c0(_0x584fd2,_0x48f611);},'iJLGc':function(_0x192206,_0x210ce3){return _0x192206*_0x210ce3;},'racqX':'jest_browserstack.config.js','scTgF':'default','aozWg':_0x17ae94(0xd1),'GxyRi':function(_0x181802,_0x481ed9,_0x1de1b5,_0x4117b7){return _0x181802(_0x481ed9,_0x1de1b5,_0x4117b7);},'FOFkA':_0x17ae94(0x100),'GKcXW':'--config','MXlJZ':_0x17ae94(0xce),'kPnIe':_0x17ae94(0x98)},_0x34e07c=new BrowserStackSetup();if(!_0x34e07c[_0x17ae94(0xa6)])return;const _0x25be9e=_0x99881e[_0x17ae94(0xc2)](getUserJestConfigs,_0x59b094,_0xfdfca0);logger[_0x17ae94(0xe6)](_0x99881e[_0x17ae94(0xb8)]);const _0x2c471d={..._0x25be9e},_0x682f23=_0x2c471d,_0x4b0d77={};_0x4b0d77['server']=constants[_0x17ae94(0xef)],_0x4b0d77['environment']=_0x25be9e[_0x17ae94(0xb0)],_0x682f23[_0x17ae94(0x9a)]=_0x4b0d77;let _0x356daf=helper['useW3C'](_0x34e07c[_0x17ae94(0xa6)]);const _0x4b8b8f=[];_0x34e07c['config'][_0x17ae94(0xa8)][_0x17ae94(0xfa)]((_0x2ba7d1,_0x1b6bae)=>{const _0x1a02a2=_0x17ae94;if(_0x99881e[_0x1a02a2(0x8f)](_0x99881e[_0x1a02a2(0xba)],_0x99881e[_0x1a02a2(0xba)])){if(_0x356daf)_0x4b8b8f[_0x1a02a2(0xe3)](helper[_0x1a02a2(0x94)](_0x34e07c[_0x1a02a2(0xa6)],_0x99881e[_0x1a02a2(0x92)],_0x1b6bae));else _0x4b8b8f[_0x1a02a2(0xe3)](helper[_0x1a02a2(0xeb)](_0x34e07c[_0x1a02a2(0xa6)],_0x99881e[_0x1a02a2(0x92)],_0x1b6bae));}else _0x493f9d=_0x99881e['qZfzg'];}),_0x682f23[_0x17ae94(0x9a)][_0x17ae94(0xea)]=_0x4b8b8f,_0x682f23[_0x17ae94(0x9a)][_0x17ae94(0xf7)]=_0x99881e[_0x17ae94(0xc2)](getSerial,_0x4b8b8f,_0x59b094),_0x682f23[_0x17ae94(0x9a)][_0x17ae94(0xbe)]=_0x99881e[_0x17ae94(0xee)](getMaxWorkers,_0x59b094,_0x34e07c[_0x17ae94(0xa6)]),_0x682f23[_0x17ae94(0x9a)]['proxySettings']=_0x34e07c['config']['proxySettings'],_0x682f23[_0x17ae94(0x9a)][_0x17ae94(0xae)]=_0x99881e['iJLGc'](_0x59b094['testTimeout'],0x1)||0x1388;const _0x50fcb1=_0x99881e[_0x17ae94(0xec)],_0x2e39ea=__dirname+_0x17ae94(0xc3),_0x1274d2=__dirname+_0x17ae94(0xe8);_0x682f23[_0x17ae94(0xb0)]=__dirname+_0x17ae94(0xa1),_0x682f23[_0x17ae94(0xb9)]=_0x2e39ea,_0x682f23[_0x17ae94(0xc9)]=[__dirname+_0x17ae94(0xe0)],_0x682f23[_0x17ae94(0xf1)]=[__dirname+_0x17ae94(0xc0)],_0x682f23[_0x17ae94(0xb6)]=_0x682f23['reporters']||[_0x99881e[_0x17ae94(0xc4)]];let _0x594a91=fs[_0x17ae94(0x101)](_0x1274d2);fs[_0x17ae94(0xcd)](_0x682f23[_0x17ae94(0xb9)],'\x0a\x20\x20\x20\x20'+_0x594a91+_0x17ae94(0xc7)+_0x34e07c[_0x17ae94(0xa6)][_0x17ae94(0xa8)][_0x17ae94(0xf2)]+_0x17ae94(0x90)),logger[_0x17ae94(0xe6)](_0x17ae94(0x9e)+_0x50fcb1+'\x20with\x20browserstack\x20jest\x20configs'),fs['writeFileSync'](_0x50fcb1,'const\x20config='+JSON[_0x17ae94(0x8b)](_0x682f23)+'\x0amodule.exports\x20=\x20config;'),logger[_0x17ae94(0xe6)](_0x99881e[_0x17ae94(0xb5)]);const _0x113532=_0x99881e['GxyRi'](spawn,/^win/[_0x17ae94(0xdd)](process[_0x17ae94(0xd6)])?_0x99881e[_0x17ae94(0x10b)]:_0x99881e[_0x17ae94(0x92)],[_0x99881e['GKcXW'],_0x50fcb1,..._0xfdfca0[_0x17ae94(0xe7)](0x1)],{'stdio':_0x99881e[_0x17ae94(0xcb)]});_0x113532['on'](_0x99881e[_0x17ae94(0xbf)],async _0x5c5cee=>{const _0x15bc5b=_0x17ae94,_0x4118ad={'pAwWk':function(_0x4d5dd5,_0x24f0e2){const _0xe469bb=a6_0x2ec3;return _0x99881e[_0xe469bb(0x10a)](_0x4d5dd5,_0x24f0e2);}};_0x99881e[_0x15bc5b(0xf8)](_0x99881e[_0x15bc5b(0x108)],_0x99881e[_0x15bc5b(0xe4)])?_0x3a141a=_0x4118ad[_0x15bc5b(0xc8)](_0xe74a95,_0x1eae01[_0x15bc5b(0xdb)]):(logger[_0x15bc5b(0xd7)](_0x15bc5b(0xc5)+_0x5c5cee),logger[_0x15bc5b(0xe6)](_0x15bc5b(0xca)+_0x50fcb1),fs['unlinkSync'](_0x50fcb1),fs[_0x15bc5b(0xf6)](_0x2e39ea));});}module[a6_0x2bb283(0xd4)]=run;